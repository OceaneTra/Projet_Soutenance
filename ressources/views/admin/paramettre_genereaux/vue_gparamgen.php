<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4">

    <a href="javascript:void(0);" class="modal-trigger" data-modal="action">
        <div class="paramgen-card customdDashCard group relative overflow-hidden">
            <video
                    src="/assets/icone/reglages.mp4"
                    class="video-preview-custom absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition duration-300"
                    muted
                    loop
            ></video>
            <p class="texte-card-paramgen">Action</p>
            <span class="lien-g-paramgen">Gérer les actions</span>
        </div>
    </a>

    <a href="javascript:void(0);" class="modal-trigger" data-modal="annee-academique">
        <div class="paramgen-card customdDashCard group relative overflow-hidden">
            <video
                    src="/assets/icone/calendrier.mp4"
                    class="video-preview-custom absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition duration-300"
                    muted
                    loop
            ></video>
            <p>Année-Academique</p>
            <span class="lien-g-paramgen">Gérer les années académiques</span>
        </div>
    </a>

    <a href="javascript:void(0);" class="modal-trigger" data-modal="ecue">
        <div class="paramgen-card customdDashCard group relative overflow-hidden">
            <video
                    src="/assets/icone/livres.mp4"
                    class="video-preview-custom absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition duration-300"
                    muted
                    loop
            ></video>
            <p>ECUE</p>
            <span class="lien-g-paramgen">Gérer les ECUE</span>
        </div>
    </a>

    <a href="javascript:void(0);" class="modal-trigger" data-modal="ue">
        <div class="paramgen-card customdDashCard group relative overflow-hidden">
            <video
                    src="/assets/icone/calendrier.mp4"
                    class="video-preview-custom absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition duration-300"
                    muted
                    loop
            ></video>
            <p>UE</p>
            <span class="lien-g-paramgen">Gérer les UE</span>
        </div>
    </a>

    <a href="javascript:void(0);" class="modal-trigger" data-modal="fonction">
        <div class="paramgen-card customdDashCard group relative overflow-hidden">
            <video
                    src="/assets/icone/mallette.mp4"
                    class="video-preview-custom absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition duration-300"
                    muted
                    loop
            ></video>
            <p>fonction</p>
            <span class="lien-g-paramgen">Gérer les fonction</span>
        </div>
    </a>

    <a href="javascript:void(0);" class="modal-trigger" data-modal="grade">
        <div class="paramgen-card customdDashCard group relative overflow-hidden">
            <video
                    src="/assets/icone/medaille.mp4"
                    class="video-preview-custom absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition duration-300"
                    muted
                    loop
            ></video>
            <p>grade</p>
            <span class="lien-g-paramgen">Gérer les grade</span>
        </div>
    </a>

    <a href="javascript:void(0);" class="modal-trigger" data-modal="groupes-utilisateurs">
        <div class="paramgen-card customdDashCard group relative overflow-hidden">
            <video
                    src="/assets/icone/calendrier.mp4"
                    class="video-preview-custom absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition duration-300"
                    muted
                    loop
            ></video>
            <p>groupes utilisateurs</p>
            <span class="lien-g-paramgen">Gérer les groupes utilisateurs</span>
        </div>
    </a>

    <a href="javascript:void(0);" class="modal-trigger" data-modal="niveaux-acces-donnees">
        <div class="paramgen-card customdDashCard group relative overflow-hidden">
            <video
                    src="/assets/icone/calendrier.mp4"
                    class="video-preview-custom absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition duration-300"
                    muted
                    loop
            ></video>
            <p>niveau acces donnees</p>
            <span class="lien-g-paramgen">Gérer les niveaux acces donnees</span>
        </div>
    </a>

    <a href="javascript:void(0);" class="modal-trigger" data-modal="niveaux-approbation">
        <div class="paramgen-card customdDashCard group relative overflow-hidden">
            <video
                    src="/assets/icone/oui.mp4"
                    class="video-preview-custom absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition duration-300"
                    muted
                    loop
            ></video>
            <p>niveau approbation</p>
            <span class="lien-g-paramgen">Gérer les niveau approbation</span>
        </div>
    </a>

    <a href="javascript:void(0);" class="modal-trigger" data-modal="niveaux-etude">
        <div class="paramgen-card customdDashCard group relative overflow-hidden">
            <video
                    src="/assets/icone/mortier.mp4"
                    class="video-preview-custom absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition duration-300"
                    muted
                    loop
            ></video>
            <p>niveau d'etude</p>
            <span class="lien-g-paramgen">Gérer les niveaus d'etude</span>
        </div>
    </a>

    <a href="javascript:void(0);" class="modal-trigger" data-modal="specialites">
        <div class="paramgen-card customdDashCard group relative overflow-hidden">
            <video
                    src="/assets/icone/adn.mp4"
                    class="video-preview-custom absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition duration-300"
                    muted
                    loop
            ></video>
            <p>specialite</p>
            <span class="lien-g-paramgen">Gérer les specialites</span>
        </div>
    </a>

    <a href="javascript:void(0);" class="modal-trigger" data-modal="statuts-jury">
        <div class="paramgen-card customdDashCard group relative overflow-hidden">
            <video
                    src="/assets/icone/jury.mp4"
                    class="video-preview-custom absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition duration-300"
                    muted
                    loop
            ></video>
            <p>statut jury</p>
            <span class="lien-g-paramgen">Gérer les statuts jury</span>
        </div>
    </a>

    <a href="javascript:void(0);" class="modal-trigger" data-modal="types-utilisateurs">
        <div class="paramgen-card customdDashCard group relative overflow-hidden">
            <video
                    src="/assets/icone/utilisateur.mp4"
                    class="video-preview-custom absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition duration-300"
                    muted
                    loop
            ></video>
            <p>type utilisateurs</p>
            <span class="lien-g-paramgen">Gérer les type utilisateurs</span>
        </div>
    </a>

</div>


<!-- Modal unique pour tous les paramètres -->
<div id="modal-parametre" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
    <div class="relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 shadow-lg rounded-md bg-white">
        <div class="flex justify-between items-center pb-4 border-b">
            <h3 id="modal-title" class="text-xl font-semibold text-green-500">
                <?php
                if (isset($_GET['modal'])) {
                    switch ($_GET['modal']) {
                        case 'action':
                            echo "Gestion des actions";
                            break;
                        case 'annee-academique':
                            echo "Gestion des années académiques";
                            break;
                        case 'ecue':
                            echo "Gestion des Ecue";
                            break;
                        case 'ue':
                            echo "Gestion des UE";
                            break;
                        case 'fonction':
                            echo "Gestion des fonctions";
                            break;
                        case 'grade':
                            echo "Gestion des grades";
                            break;
                        case 'groupes-utilisateurs':
                            echo "Gestion des groupes utilisateurs";
                            break;
                        case 'niveaux-acces-donnees':
                            echo "Gestion des niveaux d'accès aux données";
                            break;
                        case 'niveaux-approbation':
                            echo "Gestion des niveaux d'approbation";
                            break;
                        case 'niveaux-etude':
                            echo "Gestion des niveaux d'étude";
                            break;
                        case 'specialites':
                            echo "Gestion des spécialités";
                            break;
                        case 'statuts-jury':
                            echo "Gestion des statuts jury";
                            break;
                        case 'types-utilisateurs':
                            echo "Gestion des types d'utilisateurs";
                            break;
                        default:
                            echo "Gestion des paramètres";
                    }
                } else {
                    echo "Gestion des paramètres";
                }
                ?>
            </h3>
            <button class="text-gray-500 hover:text-gray-700 closeModal">
                <i class="fas fa-times"></i>
            </button>
        </div>

    </div>
</div>

<!-- Script JavaScript à ajouter à la fin du fichier -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Gestionnaire pour l'ouverture de la modal
        document.querySelectorAll('.modal-trigger').forEach(trigger => {
            console.log('Trigger trouvé :', trigger);
            trigger.addEventListener('click', function(e) {
                console.log('Clic sur le trigger :', this);
                e.preventDefault();
                const modalType = this.getAttribute('data-modal');

                // Ouvrir la modal
                document.getElementById('modal-parametre').classList.remove('hidden');

                // Pour l'approche PHP, vous devrez naviguer vers l'URL avec le paramètre modal
                // Alternativement, vous pouvez utiliser AJAX pour charger le contenu dynamiquement

                // Option 1: Redirection avec paramètre GET
                window.location.href = `?section=Gparam&modal=${modalType}`;

                // Option 2: Utiliser l'approche AJAX (décommentez pour utiliser)
                /*
                fetch(`modales/modal_${modalType.replace(/-/g, '_')}.php`)
                    .then(response => response.text())
                    .then(data => {
                        document.getElementById('modal-content').innerHTML = data;
                        // Mettre à jour le titre
                        let title = '';
                        switch(modalType) {
                            case 'action':
                                title = 'Gestion des actions';
                                break;
                            case 'annee-academique':
                                title = 'Gestion des années académiques';
                                break;
                            // ... autres cas
                            default:
                                title = 'Gestion des paramètres';
                        }
                        document.getElementById('modal-title').textContent = title;
                    })
                    .catch(error => {
                        console.error('Erreur:', error);
                        document.getElementById('modal-content').innerHTML = '<p>Erreur lors du chargement du contenu.</p>';
                    });
                */
            });
        });

        // Fermeture de la modal
        document.querySelectorAll('.closeModal').forEach(button => {
            button.addEventListener('click', function() {
                document.getElementById('modal-parametre').classList.add('hidden');
            });
        });

        // Fermer la modal en cliquant à l'extérieur
        window.addEventListener('click', function(e) {
            const modal = document.getElementById('modal-parametre');
            if (e.target === modal) {
                modal.classList.add('hidden');
            }
        });

        // Animation des vidéos sur les cartes
        document.querySelectorAll('.paramgen-card').forEach(card => {
            const video = card.querySelector('video');
            if (video) {
                card.addEventListener('mouseenter', () => {
                    video.play();
                });

                card.addEventListener('mouseleave', () => {
                    video.pause();
                    video.currentTime = 0;
                });
            }
        });
    });
</script>